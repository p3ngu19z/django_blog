{% extends 'blog/base.html' %}

{% load static %}

{% block body_class %}
    <body class="postpage-v3">
{% endblock %}

{% block content %}

    <section>
        <div class="">
            <img src="{{ news.image.url }}" style="width: 100%; max-height: 500px; object-fit: none;" alt="image">
        </div>
    </section>


    <!--Main Layout-->
    <main>

        <div class="container-fluid mb-5">

            <!--Grid row-->
            <div class="row" style="margin-top: -100px;">

                <!--Grid column-->
                <div class="col-md-12 px-lg-5">
                    <!--Card-->
                    <div class="card pb-5 mx-md-3">
                        <div class="card-body">

                            <div class="container">

                                <!--Section heading-->
                                <h1 class="text-center h1 pt-4 mb-3">
                                    <strong>{{ news.headline }}</strong>
                                </h1>

                                <div class="row">
                                    <div class="col-md-12 col-xl-12 d-flex justify-content-center">
                                        <p class="font-small dark-grey-text mb-1">
                                            <strong>Author:</strong> {{ news.author }}</p>
                                        <p class="font-small grey-text mb-0 ml-3">
                                            <i class="far fa-clock-o dark-grey-text"></i>{{ news.pub_date }}</p>
                                    </div>
                                </div>

                                <!--Grid row-->
                                <div class="row pt-lg-5 pt-3">

                                    <!--Grid column-->
                                    <div class="col-md-12 col-xl-12">

                                        <!--Grid row-->
                                        <div class="row mt-3">

                                            <p class="dark-grey-text article">{{ news.content|safe }}</p>

                                        </div>
                                        <!--Grid row-->

                                        <!--Grid row-->
                                        <div class="row my-5">

                                            <!--Grid column-->
                                            <div class="col-md-12 text-center">

                                                <h4 class="text-center font-weight-bold dark-grey-text mt-3 mb-3">
                                                    <strong>Share this post: </strong>
                                                </h4>

                                                <button type="button" class="btn btn-fb btn-sm">
                                                    <i class="fab fa-facebook-f left"></i> Facebook
                                                </button>
                                                <!--Twitter-->
                                                <button type="button" class="btn btn-tw btn-sm">
                                                    <i class="fab fa-twitter left"></i> Twitter
                                                </button>
                                                <!--Google +-->
                                                <button type="button" class="btn btn-gplus btn-sm">
                                                    <i class="fab fa-google-plus-g left"></i> Google +
                                                </button>

                                            </div>
                                            <!--Grid column-->

                                        </div>
                                        <!--Grid row-->

                                        <hr class="mt-5">

                                        <!--Comments-->
                                        <section>

                                            <!--Main wrapper-->
                                            <div class="comments-list text-center text-md-left">
                                                <div class="text-center my-5">
                                                    <h3 class="font-weight-bold">Comments
                                                        <span class="badge indigo">{{ comments.count }}</span>
                                                    </h3>
                                                </div>
                                                {% for comment in comments %}
                                                    <div class="row mb-5">
                                                        <!--Image column-->
                                                        <div class="col-sm-2 col-12 mb-3">
                                                            <img src="{% static 'blog/image/user.png' %}"
                                                                 class="avatar rounded-circle z-depth-1-half"
                                                                 alt="sample image">
                                                        </div>
                                                        <!--/.Image column-->

                                                        <!--Content column-->
                                                        <div class="col-sm-10 col-12">
                                                            <a>
                                                                <h5 class="user-name font-weight-bold">{{ comment.username }}</h5>
                                                            </a>
                                                            <div class="card-data">
                                                                <ul class="list-unstyled">
                                                                    <li class="comment-date font-small">
                                                                        <i class="far fa-clock-o"></i>{{ comment.pub_date }}
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <p class="dark-grey-text article">{{ comment.text }}</p>
                                                        </div>
                                                        <!--/.Content column-->
                                                    </div>
                                                {% endfor %}
                                            </div>
                                            <!--/.Main wrapper-->

                                        </section>
                                        <!--/Comments-->
                                        <hr>

                                        <!--Section: Leave a reply (Not Logged In User)-->
                                        <section class="mb-4 wow fadeIn visible" data-wow-delay="0.2s">
                                            <h3 class="font-weight-bold text-center my-5">Leave a reply</h3>
                                            <form method="post">
                                                {% csrf_token %}
                                                <!--Grid row-->
                                                <div class="row">

                                                    <!--Grid column-->
                                                    <div class="col-lg-6 col-md-6">

                                                        <div class="input-group md-form form-sm form-3 pl-0">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text white black-text"
                                                                      id="basic-addon8">1</span>
                                                            </div>
                                                            <input type="text"
                                                                   name="{{ comment_form.username.html_name }}"
                                                                   class="form-control mt-0 black-border rgba-white-strong"
                                                                   placeholder="Name" aria-describedby="basic-addon9">
                                                        </div>

                                                    </div>
                                                    <!--Grid column-->

                                                    <!--Grid column-->
                                                    <div class="col-lg-6 col-md-6">
                                                        <div class="input-group md-form form-sm form-3 pl-0">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text white black-text"
                                                                      id="basic-addon9">2</span>
                                                            </div>
                                                            <input type="text" name="{{ comment_form.email.html_name }}"
                                                                   class="form-control mt-0 black-border rgba-white-strong"
                                                                   placeholder="Email" aria-describedby="basic-addon9">
                                                        </div>

                                                    </div>
                                                    <!--Grid column-->

                                                </div>
                                                <!--Grid row-->

                                                <!--Grid row-->
                                                <div class="row">

                                                    <div class="col-12 mt-1">
                                                        <div class="form-group basic-textarea rounded-corners shadow-textarea">

                                                            <textarea class="form-control" name="text"
                                                                      id="exampleFormControlTextarea6" rows="5"
                                                                      placeholder="Write something here..."></textarea>
                                                        </div>

                                                        <div class="text-right">
                                                            <button class="btn btn-grey btn-sm">Submit</button>
                                                        </div>

                                                    </div>

                                                </div>
                                                <!--Grid row-->

                                            </form>

                                        </section>
                                        <!--/Section: Leave a reply (Not Logged In User)-->

                                        <!--Posts-->
                                        <section class="text-left mt-4">

                                            <h4 class="font-weight-bold mt-5 mb-5 text-center">
                                                <strong>Latest news</strong>
                                            </h4>

                                            <!--Carousel Wrapper-->
                                            <div id="multi-item-example" class="carousel slide carousel-multi-item mx-1"
                                                 data-ride="carousel">

                                                <!--Indicators-->
                                                <ol class="carousel-indicators bg-dark">
                                                    <li data-target="#multi-item-example" data-slide-to="0"
                                                        class="active"></li>
                                                    <li data-target="#multi-item-example" data-slide-to="1"></li>
                                                    <li data-target="#multi-item-example" data-slide-to="2"></li>
                                                </ol>
                                                <!--/.Indicators-->

                                                <!--Slides-->
                                                <div class="carousel-inner" role="listbox">

                                                    {% for slide_news in news_list %}
                                                        {% if forloop.counter == 1 %}
                                                            <div class="carousel-item active">
                                                            <div class="row mb-4 mx-1">
                                                        {% endif %}
                                                        {% if forloop.counter == 4 or forloop.counter == 7 %}
                                                            <div class="carousel-item">
                                                            <div class="row mb-4 mx-1">
                                                        {% endif %}
                                                    <!--Grid column-->
                                                    <div class="col-lg-4 my-3">
                                                        <!--Card-->
                                                        <div class="card">

                                                            <!--Card image-->
                                                            <div class="view overlay">
                                                                <img src="{{ slide_news.image.url }}"
                                                                     class="card-img-top" alt="sample image">
                                                                <a href="{% url 'news' slide_news.id %}">
                                                                    <div class="mask rgba-white-slight"></div>
                                                                </a>
                                                            </div>
                                                            <!--/.Card image-->

                                                            <!--Card content-->
                                                            <div class="card-body">
                                                                <!--Title-->
                                                                <h4 class="card-title">
                                                                    <strong>{{ slide_news.headline }}</strong>
                                                                </h4>
                                                                <hr>

                                                                <p class="font-small font-weight-bold dark-grey-text mb-1">
                                                                    <i class="far fa-clock-o"></i>{{ slide_news.pub_date }}
                                                                </p>
                                                                <p class="font-small grey-text mb-0">{{ slide_news.author }}</p>
                                                                <p class="text-right mb-0 font-small font-weight-bold">
                                                                    <a href="{% url 'news' slide_news.id %}">read more
                                                                        <i class="fas fa-angle-right"></i>
                                                                    </a>
                                                                </p>
                                                            </div>
                                                            <!--/.Card content-->
                                                        </div>
                                                        <!--/.Card-->
                                                    </div>
                                                    <!--Grid column-->
                                                    {% if forloop.counter == 3 or forloop.counter == 6 or forloop.counter == 9 %}
                                                        </div>
                                                        <!--/Grid row-->
                                                        </div>
                                                        <!--/.Second slide-->
                                                    {% endif %}
                                                    {% endfor %}
                                                    </div>
                                                    <!--/.Slides-->
                                                    </div>
                                                    <!--/.Carousel Wrapper-->
                                                </div>
                                            </div>
                                        </section>
                                        <!--/.Posts-->
                                    </div>
                                    <!--/Grid column-->
                                </div>
                                <!--/Grid row-->
                            </div>
                            <!--Grid column-->
                        </div>
                        <!--Grid row-->
                    </div>
                    <!--/Card-->
                </div>
                <!--/Grid column-->
            </div>
            <!--/Grid row-->
        </div>
    </main>
    <!--Main Layout-->
{% endblock %}
